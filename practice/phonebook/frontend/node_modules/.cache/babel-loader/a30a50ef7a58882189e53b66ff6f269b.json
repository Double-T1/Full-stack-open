{"ast":null,"code":"import _objectSpread from\"D:/node/FrontEnd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/node/FrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Note from'./components/Note';import{useState,useEffect}from'react';import noteService from'./services/notes';import Notification from'./components/Notification';import Footer from'./components/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState('a new note...'),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];var _useState7=useState('some error happened...'),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];//effect/ the function will be executed after App is rendered\nuseEffect(function(){noteService.getAll().then(function(data){setNotes(data);});},[]);var notesToShow=showAll?notes:notes.filter(function(ele){return ele.important;});console.log('notesToShow: ',notesToShow);var addNote=function addNote(event){event.preventDefault();//prevent the page from reloading, as most events natrually cause\nvar noteObject={content:newNote,date:new Date().toISOString(),important:Math.random()<0.5};//the system will automatically generate the id for each note\nnoteService.create(noteObject).then(function(data){setNotes(notes.concat(data));setNewNote('');});};var handleNoteChange=function handleNoteChange(event){setNewNote(event.target.value);};//to change the importance of the said note\nvar toggleImportanceOf=function toggleImportanceOf(id){var note=notes.find(function(ele){return ele.id===id;});var changedNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});noteService.update(id,changedNote).then(function(data){setNotes(notes.map(function(ele){return ele.id===id?data:ele;}));}).catch(function(){setErrorMessage(\"the note '\".concat(note.content,\"' was already deleted from server\"));setTimeout(function(){setErrorMessage(null);},5000);setNotes(notes.filter(function(n){return n.id!==id;}));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes\"}),/*#__PURE__*/_jsx(Notification,{message:errorMessage}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?'important':'all']})}),/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,toggleImportance:function toggleImportance(){return toggleImportanceOf(note.id);}},note.id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:handleNoteChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"sources":["D:/node/FrontEnd/src/App.js"],"names":["Note","useState","useEffect","noteService","Notification","Footer","App","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","getAll","then","data","notesToShow","filter","ele","important","console","log","addNote","event","preventDefault","noteObject","content","date","Date","toISOString","Math","random","create","concat","handleNoteChange","target","value","toggleImportanceOf","id","note","find","changedNote","update","map","catch","setTimeout","n"],"mappings":"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","sourcesContent":["import Note from './components/Note'\nimport { useState, useEffect } from 'react'\nimport noteService from './services/notes'\nimport Notification from './components/Notification'\nimport Footer from './components/Footer'\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [newNote, setNewNote] = useState('a new note...')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState('some error happened...')\n\n  //effect/ the function will be executed after App is rendered\n  useEffect(() => {\n    noteService.getAll()\n    .then(data => {\n      setNotes(data)\n    })\n  }, [])\n\n  const notesToShow = showAll ?\n    notes \n    : notes.filter(ele => ele.important)\n  console.log('notesToShow: ',notesToShow)\n  const addNote = (event) => {\n    event.preventDefault() //prevent the page from reloading, as most events natrually cause\n    const noteObject = {\n      content: newNote,\n      date: new Date().toISOString(),\n      important: Math.random() <0.5,\n    } //the system will automatically generate the id for each note\n    \n    noteService\n      .create(noteObject)    \n      .then(data => {\n        setNotes(notes.concat(data))\n        setNewNote('')\n      })\n  }\n\n  const handleNoteChange = (event) => {\n    setNewNote(event.target.value)\n  }\n  //to change the importance of the said note\n  const toggleImportanceOf = (id) => {\n    const note = notes.find(ele => ele.id === id)\n    const changedNote = {...note, important: !note.important}\n    noteService\n      .update(id,changedNote)\n      .then(data => {\n        setNotes(notes.map(ele => ele.id === id? data : ele))\n      })\n      .catch(() => {      \n        setErrorMessage(\n          `the note '${note.content}' was already deleted from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        },5000)\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  return (\n    <div>\n      <h1>Notes</h1>\n      <Notification message={errorMessage}/> <br />\n      <div>\n        <button onClick={() => setShowAll(!showAll)}>\n          show {showAll? 'important' : 'all'}\n        </button>\n      </div>\n      <ul>\n        {notesToShow.map(note => \n          <Note \n            key={note.id} \n            note={note} \n            toggleImportance = {() => toggleImportanceOf(note.id)}  \n          />\n        )}\n      </ul>\n      <form onSubmit={addNote}>\n        <input value={newNote} onChange={handleNoteChange}/>\n        <button type='submit'>save</button>\n      </form>\n      <Footer />\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}